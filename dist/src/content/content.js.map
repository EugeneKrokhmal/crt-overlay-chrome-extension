{"version":3,"file":"content.js","sources":["../../../src/shared/config.js","../../../src/shared/chrome-facade.js","../../../src/shared/logger.js","../../../src/content/soundFilter.js","../../../src/content/content.js"],"sourcesContent":["/**\n * Shared configuration for CRT overlay extension.\n * Single source of truth for storage keys, defaults, and message types.\n *\n * When adding a new option:\n * 1. Add key to STORAGE_KEYS and value to DEFAULT_OPTIONS.\n * 2. Add to STORAGE_KEYS_LIST.\n * 3. If it's a slider: add to OPTION_SLIDER_KEYS and to STORAGE_KEY_TO_OPTION / OPTION_TO_STORAGE_KEY.\n * 4. In popup.js: add to POPUP_IDS, and to SLIDER_RANGE / FILL_IDS if it's a slider.\n */\n\nexport const STORAGE_KEYS = {\n  ENABLED: \"crtEnabled\",\n  SCANLINE: \"scanlineIntensity\",\n  VIGNETTE: \"vignetteIntensity\",\n  CURVATURE: \"curvatureIntensity\",\n  GLOW: \"glowIntensity\",\n  SOUND_FILTER: \"soundFilterEnabled\",\n  SOUND_EFFECT_LEVEL: \"soundEffectLevel\",\n  SOUND_NOISE_LEVEL: \"soundNoiseLevel\",\n  VHS_GLITCHES: \"vhsGlitchesEnabled\",\n  GLITCH_PHASE_LEVEL: \"glitchPhaseLevel\",\n  GLITCH_NOISE_LEVEL: \"glitchNoiseLevel\",\n};\n\nexport const DEFAULT_OPTIONS = {\n  [STORAGE_KEYS.ENABLED]: false,\n  [STORAGE_KEYS.SCANLINE]: 0.4,\n  [STORAGE_KEYS.VIGNETTE]: 0.5,\n  [STORAGE_KEYS.CURVATURE]: 0.15,\n  [STORAGE_KEYS.GLOW]: 0.1,\n  [STORAGE_KEYS.SOUND_FILTER]: false,\n  [STORAGE_KEYS.SOUND_EFFECT_LEVEL]: 0.8,\n  [STORAGE_KEYS.SOUND_NOISE_LEVEL]: 0.6,\n  [STORAGE_KEYS.VHS_GLITCHES]: false,\n  [STORAGE_KEYS.GLITCH_PHASE_LEVEL]: 0.3,\n  [STORAGE_KEYS.GLITCH_NOISE_LEVEL]: 0.15,\n};\n\n/** All storage keys as array for batch get/set */\nexport const STORAGE_KEYS_LIST = [\n  STORAGE_KEYS.ENABLED,\n  STORAGE_KEYS.SCANLINE,\n  STORAGE_KEYS.VIGNETTE,\n  STORAGE_KEYS.CURVATURE,\n  STORAGE_KEYS.GLOW,\n  STORAGE_KEYS.SOUND_FILTER,\n  STORAGE_KEYS.SOUND_EFFECT_LEVEL,\n  STORAGE_KEYS.SOUND_NOISE_LEVEL,\n  STORAGE_KEYS.VHS_GLITCHES,\n  STORAGE_KEYS.GLITCH_PHASE_LEVEL,\n  STORAGE_KEYS.GLITCH_NOISE_LEVEL,\n];\n\n/** Option keys that are sliders (excludes ENABLED and SOUND_FILTER) */\nexport const OPTION_SLIDER_KEYS = [\n  STORAGE_KEYS.SCANLINE,\n  STORAGE_KEYS.VIGNETTE,\n  STORAGE_KEYS.CURVATURE,\n  STORAGE_KEYS.GLOW,\n];\n\nexport const MESSAGE = {\n  TOGGLE: \"toggle\",\n  SET_OPTIONS: \"setOptions\",\n  GET_STATE: \"getState\",\n};\n\n/**\n * Standard message response shape: { ok: boolean, data?: unknown }.\n * Async handlers must return a Promise that resolves to this; the listener must return true\n * when the handler is async so sendResponse remains valid.\n */\nexport function messageResponse(ok, data = undefined) {\n  return data === undefined ? { ok } : { ok, data };\n}\n\n/** Map storage key to option name (camelCase) */\nexport const STORAGE_KEY_TO_OPTION = {\n  [STORAGE_KEYS.SCANLINE]: \"scanline\",\n  [STORAGE_KEYS.VIGNETTE]: \"vignette\",\n  [STORAGE_KEYS.CURVATURE]: \"curvature\",\n  [STORAGE_KEYS.GLOW]: \"glow\",\n};\n\n/** Option name to storage key (reverse map) */\nexport const OPTION_TO_STORAGE_KEY = {\n  scanline: STORAGE_KEYS.SCANLINE,\n  vignette: STORAGE_KEYS.VIGNETTE,\n  curvature: STORAGE_KEYS.CURVATURE,\n  glow: STORAGE_KEYS.GLOW,\n};\n\n/** URL prefixes for tabs we must not send messages to */\nexport const RESTRICTED_URL_PREFIXES = [\"chrome://\", \"chrome-extension://\", \"edge://\"];\n\n/** True if we can sendMessage to this tab */\nexport function isMessageableTab(tab) {\n  return tab.id && tab.url && !RESTRICTED_URL_PREFIXES.some((p) => tab.url.startsWith(p));\n}\n","/**\n * Thin facade over chrome.storage.local and chrome.tabs for content/popup/background.\n * Enables tests to mock storage and messaging by replacing this module.\n */\n\nimport { isMessageableTab } from \"./config.js\";\n\nexport const storage = {\n  get(keys, callback) {\n    chrome.storage.local.get(keys, callback);\n  },\n  set(items, callback) {\n    chrome.storage.local.set(items, callback ?? (() => {}));\n  },\n};\n\nexport const tabs = {\n  /**\n   * Send a message to all tabs that accept content scripts (excludes chrome:// etc).\n   * @param {object} message\n   * @param {(err?: Error) => void} [onSent] called per tab (errors are passed)\n   */\n  sendToMessageableTabs(message, onSent) {\n    chrome.tabs.query({}, (tabList) => {\n      const messageable = tabList.filter(isMessageableTab);\n      messageable.forEach((tab) => {\n        chrome.tabs\n          .sendMessage(tab.id, message)\n          .then(() => onSent?.())\n          .catch((err) => onSent?.(err));\n      });\n    });\n  },\n};\n","/**\n * Dev-only logging. Logs only when extension is unpacked (no update_url) to avoid leaking info in production.\n */\nfunction isDebug() {\n  try {\n    const manifest = chrome?.runtime?.getManifest?.();\n    return !manifest?.update_url;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Log a warning when debug mode is on (unpacked extension). No-op in production.\n * @param {string} message\n * @param {unknown} [err]\n */\nexport function logExtensionWarning(message, err) {\n  if (!isDebug()) return;\n  if (err != null) {\n    console.warn(`[CRT Overlay] ${message}`, err);\n  } else {\n    console.warn(`[CRT Overlay] ${message}`);\n  }\n}\n","/**\n * Retro film / VHS-style sound filter: less high frequencies + lo-fi hiss.\n * Processes <audio> and <video> via Web Audio API (one MediaElementSource per element).\n */\nimport { logExtensionWarning } from \"../shared/logger.js\";\n\nconst DATA_ATTR_HOOKED = \"data-crt-sound-hooked\";\n\n/** Lowpass: roll off highs for retro film (Hz). Lower = more muffled / intense. */\nconst LOWPASS_FREQ = 2000;\nconst LOWPASS_Q = 0.5;\n\n/** Max lo-fi hiss (0–1). Kept low so min slider is subtle. */\nconst NOISE_GAIN_MAX = 0.06;\n/** Max processed (effect) mix. 1 = full effect path at 100% slider. */\nconst EFFECT_GAIN_MAX = 1;\n\n/** Create tape-style noise: lowpassed so it's more hiss/rumble than bright white noise */\nfunction createTapeNoiseBuffer(ctx, durationSeconds = 3) {\n  const sampleRate = ctx.sampleRate;\n  const length = sampleRate * durationSeconds;\n  const buffer = ctx.createBuffer(1, length, sampleRate);\n  const data = buffer.getChannelData(0);\n  // Simple pink-ish: weight lower freqs by smoothing random values\n  let b0 = 0, b1 = 0, b2 = 0;\n  for (let i = 0; i < length; i++) {\n    const white = (Math.random() * 2 - 1) * 0.5;\n    b0 = 0.99886 * b0 + white * 0.0555179;\n    b1 = 0.99332 * b1 + white * 0.0750759;\n    b2 = 0.96900 * b2 + white * 0.1538520;\n    data[i] = b0 + b1 + b2;\n  }\n  return buffer;\n}\n\nexport class VHSSoundFilter {\n  constructor() {\n    this._ctx = null;\n    this._enabled = false;\n    this._effectLevel = 0.8;\n    this._noiseLevel = 0.6;\n    this._nodesByElement = new WeakMap();\n    this._observer = null;\n    this._observerThrottleTimer = null;\n    this._resumeOnInteraction = null;\n  }\n\n  _getContext() {\n    if (!this._ctx) {\n      this._ctx = new (window.AudioContext || window.webkitAudioContext)();\n    }\n    return this._ctx;\n  }\n\n  _ensureContextRunning() {\n    const ctx = this._ctx;\n    if (!ctx) return Promise.resolve();\n    if (ctx.state === \"running\") return Promise.resolve();\n    const p = ctx.resume();\n    if (p && typeof p.then === \"function\") {\n      return p.catch((err) => logExtensionWarning(\"VHS sound: AudioContext resume failed\", err));\n    }\n    return Promise.resolve();\n  }\n\n  _addResumeOnInteraction() {\n    if (this._resumeOnInteraction) return;\n    const once = () => {\n      this._ensureContextRunning();\n      document.removeEventListener(\"click\", once);\n      document.removeEventListener(\"touchstart\", once);\n      document.removeEventListener(\"keydown\", once);\n      this._resumeOnInteraction = null;\n    };\n    this._resumeOnInteraction = once;\n    document.addEventListener(\"click\", once, { passive: true });\n    document.addEventListener(\"touchstart\", once, { passive: true });\n    document.addEventListener(\"keydown\", once, { passive: true });\n  }\n\n  _createChain(ctx, source) {\n    const dryGain = ctx.createGain();\n    const lowpass = ctx.createBiquadFilter();\n    lowpass.type = \"lowpass\";\n    lowpass.frequency.value = LOWPASS_FREQ;\n    lowpass.Q.value = LOWPASS_Q;\n\n    const effectGain = ctx.createGain();\n    const noiseBuffer = createTapeNoiseBuffer(ctx);\n    const noiseSource = ctx.createBufferSource();\n    noiseSource.buffer = noiseBuffer;\n    noiseSource.loop = true;\n    const noiseGain = ctx.createGain();\n    noiseGain.gain.value = this._noiseLevel * NOISE_GAIN_MAX;\n\n    source.connect(dryGain);\n    dryGain.connect(ctx.destination);\n    source.connect(lowpass);\n    lowpass.connect(effectGain);\n    effectGain.connect(ctx.destination);\n    noiseSource.connect(noiseGain);\n    noiseGain.connect(ctx.destination);\n\n    try {\n      noiseSource.start(0);\n    } catch (err) {\n      logExtensionWarning(\"VHS sound: noise source start failed\", err);\n    }\n\n    return { dryGain, effectGain, noiseGain };\n  }\n\n  _hookElement(el) {\n    if (el.hasAttribute(DATA_ATTR_HOOKED)) return;\n    try {\n      const ctx = this._getContext();\n      const source = ctx.createMediaElementSource(el);\n      const chain = this._createChain(ctx, source);\n      this._nodesByElement.set(el, { source, ...chain });\n      el.setAttribute(DATA_ATTR_HOOKED, \"1\");\n      this._setChainEnabled(chain, this._enabled);\n    } catch (err) {\n      logExtensionWarning(\"VHS sound: hook element failed (e.g. CORS)\", err);\n    }\n  }\n\n  _setChainEnabled(chain, enabled) {\n    if (!chain) return;\n    const t = enabled ? Math.pow(this._effectLevel, 0.85) : 0;\n    const effect = t * EFFECT_GAIN_MAX;\n    const dry = enabled ? Math.max(0, 1 - t) : 1;\n    chain.dryGain.gain.value = dry;\n    chain.effectGain.gain.value = effect;\n    const noiseT = enabled ? Math.pow(this._noiseLevel, 1.6) : 0;\n    chain.noiseGain.gain.value = noiseT * NOISE_GAIN_MAX;\n  }\n\n  /** Update effect/noise levels (0–1) and apply to all hooked chains */\n  setLevels(effectLevel, noiseLevel) {\n    this._effectLevel = Math.max(0, Math.min(1, Number(effectLevel) || 0));\n    this._noiseLevel = Math.max(0, Math.min(1, Number(noiseLevel) || 0));\n    document.querySelectorAll(\"audio, video\").forEach((el) => {\n      const chain = this._nodesByElement.get(el);\n      if (chain) this._setChainEnabled(chain, this._enabled);\n    });\n  }\n\n  _scanAndHook() {\n    const list = document.querySelectorAll(\"audio, video\");\n    list.forEach((el) => this._hookElement(el));\n  }\n\n  setEnabled(enabled, effectLevel, noiseLevel) {\n    if (enabled !== undefined) this._enabled = !!enabled;\n    if (effectLevel !== undefined) this._effectLevel = Math.max(0, Math.min(1, Number(effectLevel) || 0));\n    if (noiseLevel !== undefined) this._noiseLevel = Math.max(0, Math.min(1, Number(noiseLevel) || 0));\n    if (this._enabled) {\n      this._ensureContextRunning().then(() => {\n        this._scanAndHook();\n        this._observe();\n      });\n      this._addResumeOnInteraction();\n    } else {\n      this._disconnectObserver();\n    }\n    this.syncChains();\n  }\n\n  _observe() {\n    if (this._observer) return;\n    const root = document.body || document.documentElement;\n    if (!root) return;\n    const THROTTLE_MS = 250;\n    this._observer = new MutationObserver(() => {\n      if (!this._enabled) return;\n      if (this._observerThrottleTimer != null) return;\n      this._observerThrottleTimer = setTimeout(() => {\n        this._observerThrottleTimer = null;\n        this._scanAndHook();\n      }, THROTTLE_MS);\n    });\n    this._observer.observe(root, { childList: true, subtree: true });\n  }\n\n  _disconnectObserver() {\n    if (this._observerThrottleTimer != null) {\n      clearTimeout(this._observerThrottleTimer);\n      this._observerThrottleTimer = null;\n    }\n    if (this._observer) {\n      this._observer.disconnect();\n      this._observer = null;\n    }\n  }\n\n  syncChains() {\n    document.querySelectorAll(\"audio, video\").forEach((el) => {\n      const chain = this._nodesByElement.get(el);\n      if (chain) this._setChainEnabled(chain, this._enabled);\n    });\n  }\n}\n","/**\n * Content script: injects and controls the CRT overlay and VHS sound filter.\n */\nimport {\n  STORAGE_KEYS,\n  DEFAULT_OPTIONS,\n  STORAGE_KEYS_LIST,\n  STORAGE_KEY_TO_OPTION,\n  OPTION_SLIDER_KEYS,\n  MESSAGE,\n  messageResponse,\n} from \"../shared/config.js\";\nimport { storage } from \"../shared/chrome-facade.js\";\nimport { VHSSoundFilter } from \"./soundFilter.js\";\n\nconst OVERLAY_ROOT_ID = \"crt-overlay-root\";\nconst CURVE_INNER_SELECTOR = \"#crt-curve-inner\";\n\n/** Curvature: map 0..1 option to border-radius percentage */\nconst CURVATURE_MIN_RADIUS = 8;\nconst CURVATURE_RANGE = 20;\n\nclass CRTOverlay {\n  constructor() {\n    this._root = null;\n  }\n\n  /** Returns the overlay root element, creating it if needed */\n  getRoot() {\n    if (this._root) return this._root;\n    this._root = this._createDOM();\n    document.body.appendChild(this._root);\n    return this._root;\n  }\n\n  _createDOM() {\n    const root = document.createElement(\"div\");\n    root.id = OVERLAY_ROOT_ID;\n    root.setAttribute(\"tabindex\", \"-1\");\n    root.setAttribute(\"aria-hidden\", \"true\");\n\n    const curveWrap = document.createElement(\"div\");\n    curveWrap.id = \"crt-curve-wrap\";\n\n    const curveInner = document.createElement(\"div\");\n    curveInner.id = \"crt-curve-inner\";\n\n    const layers = [\"crt-scanlines\", \"crt-vignette\", \"crt-chromatic\", \"crt-glitch-phase\"];\n    layers.forEach((id) => {\n      const layer = document.createElement(\"div\");\n      layer.id = id;\n      curveInner.appendChild(layer);\n    });\n    const noiseWrap = document.createElement(\"div\");\n    noiseWrap.id = \"crt-glitch-noise-wrap\";\n    const noiseCanvas = document.createElement(\"canvas\");\n    noiseCanvas.id = \"crt-glitch-noise\";\n    noiseWrap.appendChild(noiseCanvas);\n    curveInner.appendChild(noiseWrap);\n\n    curveWrap.appendChild(curveInner);\n    root.appendChild(curveWrap);\n    return root;\n  }\n\n  /**\n   * Apply intensity options to the overlay (CSS variables, curvature, glitches).\n   */\n  applyOptions(options = {}) {\n    const root = this.getRoot();\n    const inner = root.querySelector(CURVE_INNER_SELECTOR);\n    if (!inner) return;\n\n    inner.style.setProperty(\n      \"--crt-scanline\",\n      String(options.scanline ?? DEFAULT_OPTIONS[STORAGE_KEYS.SCANLINE])\n    );\n    inner.style.setProperty(\n      \"--crt-vignette\",\n      String(options.vignette ?? DEFAULT_OPTIONS[STORAGE_KEYS.VIGNETTE])\n    );\n    inner.style.setProperty(\n      \"--crt-glow\",\n      String(options.glow ?? DEFAULT_OPTIONS[STORAGE_KEYS.GLOW])\n    );\n\n    const curvature = options.curvature ?? DEFAULT_OPTIONS[STORAGE_KEYS.CURVATURE];\n    const radius = Math.max(0, CURVATURE_MIN_RADIUS + curvature * CURVATURE_RANGE);\n    inner.style.borderRadius = `${radius}%`;\n\n    const glitches = options.vhsGlitches ?? DEFAULT_OPTIONS[STORAGE_KEYS.VHS_GLITCHES];\n    const phaseLevel = options.glitchPhaseLevel ?? DEFAULT_OPTIONS[STORAGE_KEYS.GLITCH_PHASE_LEVEL];\n    const noiseLevel = options.glitchNoiseLevel ?? DEFAULT_OPTIONS[STORAGE_KEYS.GLITCH_NOISE_LEVEL];\n    if (glitches) {\n      root.setAttribute(\"data-glitches\", \"true\");\n      root.style.setProperty(\"--crt-glitch-phase\", String(phaseLevel));\n      root.style.setProperty(\"--crt-glitch-noise\", String(noiseLevel));\n      this._startNoiseCanvas(noiseLevel);\n    } else {\n      root.removeAttribute(\"data-glitches\");\n      this._stopNoiseCanvas();\n    }\n  }\n\n  _noiseFrameId = null;\n  _noiseCanvas = null;\n\n  _startNoiseCanvas(level) {\n    this._stopNoiseCanvas();\n    const wrap = this.getRoot().querySelector(\"#crt-glitch-noise-wrap\");\n    const canvas = this.getRoot().querySelector(\"#crt-glitch-noise\");\n    if (!wrap || !canvas) return;\n    this._noiseCanvas = canvas;\n    const size = 256;\n    canvas.width = size;\n    canvas.height = size;\n    wrap.style.display = \"block\";\n    const ctx = canvas.getContext(\"2d\");\n    const imageData = ctx.getImageData(0, 0, size, size);\n    const d = imageData.data;\n    const draw = () => {\n      if (!this._noiseCanvas || !this.getRoot().hasAttribute(\"data-glitches\")) return;\n      const opacity = parseFloat(this.getRoot().style.getPropertyValue(\"--crt-glitch-noise\") || \"0.15\");\n      for (let i = 0; i < d.length; i += 4) {\n        const v = Math.floor(Math.random() * 256);\n        d[i] = d[i + 1] = d[i + 2] = v;\n        d[i + 3] = Math.floor(opacity * 80);\n      }\n      ctx.putImageData(imageData, 0, 0);\n      this._noiseFrameId = requestAnimationFrame(draw);\n    };\n    draw();\n  }\n\n  _stopNoiseCanvas() {\n    if (this._noiseFrameId != null) {\n      cancelAnimationFrame(this._noiseFrameId);\n      this._noiseFrameId = null;\n    }\n    const wrap = this.getRoot().querySelector(\"#crt-glitch-noise-wrap\");\n    if (wrap) wrap.style.display = \"none\";\n    this._noiseCanvas = null;\n  }\n\n  setVisible(visible) {\n    const root = this.getRoot();\n    if (visible) {\n      root.setAttribute(\"data-visible\", \"true\");\n      if (root.hasAttribute(\"data-glitches\")) this._startNoiseCanvas(parseFloat(root.style.getPropertyValue(\"--crt-glitch-noise\") || \"0.15\"));\n    } else {\n      root.removeAttribute(\"data-visible\");\n      this._stopNoiseCanvas();\n    }\n  }\n\n  /** Load state from storage and apply; show overlay if enabled */\n  initFromStorage(data) {\n    const options = {};\n    for (const key of OPTION_SLIDER_KEYS) {\n      const name = STORAGE_KEY_TO_OPTION[key];\n      if (name) options[name] = data[key] ?? DEFAULT_OPTIONS[key];\n    }\n    options.vhsGlitches = data[STORAGE_KEYS.VHS_GLITCHES] ?? DEFAULT_OPTIONS[STORAGE_KEYS.VHS_GLITCHES];\n    options.glitchPhaseLevel = data[STORAGE_KEYS.GLITCH_PHASE_LEVEL] ?? DEFAULT_OPTIONS[STORAGE_KEYS.GLITCH_PHASE_LEVEL];\n    options.glitchNoiseLevel = data[STORAGE_KEYS.GLITCH_NOISE_LEVEL] ?? DEFAULT_OPTIONS[STORAGE_KEYS.GLITCH_NOISE_LEVEL];\n    this.getRoot();\n    this.applyOptions(options);\n    if (data[STORAGE_KEYS.ENABLED]) {\n      this.setVisible(true);\n    }\n  }\n\n  /**\n   * Handle incoming message. Returns messageResponse(ok, data) or Promise<messageResponse> for async.\n   * Listener must return true when handler returns a Promise so sendResponse stays valid.\n   */\n  handleMessage(msg) {\n    if (msg.type === MESSAGE.TOGGLE) {\n      this.setVisible(msg.enabled);\n      return messageResponse(true);\n    }\n    if (msg.type === MESSAGE.SET_OPTIONS) {\n      const opts = msg.options || {};\n      this.applyOptions(opts);\n      this.setVisible(msg.visible !== false);\n      return messageResponse(true);\n    }\n    if (msg.type === MESSAGE.GET_STATE) {\n      return new Promise((resolve) => {\n        storage.get(STORAGE_KEYS.ENABLED, (data) => {\n          resolve(messageResponse(true, { enabled: !!data[STORAGE_KEYS.ENABLED] }));\n        });\n      });\n    }\n    return null;\n  }\n}\n\nconst overlay = new CRTOverlay();\nconst soundFilter = new VHSSoundFilter();\n\nchrome.runtime.onMessage.addListener((msg, _sender, sendResponse) => {\n  const response = overlay.handleMessage(msg);\n  if (msg.type === MESSAGE.SET_OPTIONS && msg.options) {\n    const opts = msg.options;\n    soundFilter.setEnabled(opts.soundFilter, opts.soundEffectLevel, opts.soundNoiseLevel);\n  }\n  if (response && typeof response.then === \"function\") {\n    response.then(sendResponse);\n    return true;\n  }\n  if (response != null) {\n    sendResponse(response);\n    return true;\n  }\n  return false;\n});\n\nfunction runWhenReady() {\n  storage.get(STORAGE_KEYS_LIST, (data) => {\n    overlay.initFromStorage(data);\n    const soundEnabled = data[STORAGE_KEYS.SOUND_FILTER] ?? DEFAULT_OPTIONS[STORAGE_KEYS.SOUND_FILTER];\n    const effectLevel = data[STORAGE_KEYS.SOUND_EFFECT_LEVEL] ?? DEFAULT_OPTIONS[STORAGE_KEYS.SOUND_EFFECT_LEVEL];\n    const noiseLevel = data[STORAGE_KEYS.SOUND_NOISE_LEVEL] ?? DEFAULT_OPTIONS[STORAGE_KEYS.SOUND_NOISE_LEVEL];\n    soundFilter.setEnabled(!!soundEnabled, effectLevel, noiseLevel);\n  });\n}\n\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", runWhenReady);\n} else {\n  runWhenReady();\n}\n"],"names":[],"mappings":"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"}